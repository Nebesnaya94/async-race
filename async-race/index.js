(()=>{"use strict";var e={772:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,'* {\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n\n*, *::before, *::after {\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n:focus, :active {\n  outline: none;\n}\n\na:focus, a:active {\n  outline: none;\n}\n\nnav, footer, header, aside {\n  display: block;\n}\n\nhtml, body {\n  height: 100%;\n  width: 100%;\n  font-size: 100%;\n  line-height: 1;\n  font-size: 14px;\n  -ms-text-size-adjust: 100%;\n  -moz-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n}\n\ninput, button, textarea {\n  font-family: inherit;\n}\n\ninput::-ms-clear {\n  display: none;\n}\n\nbutton {\n  cursor: pointer;\n}\n\nbutton::-moz-focus-inner {\n  padding: 0;\n  border: 0;\n}\n\na, a:visited {\n  text-decoration: none;\n}\n\na:hover {\n  text-decoration: none;\n}\n\nul li {\n  list-style: none;\n}\n\nimg {\n  vertical-align: top;\n}\n\nh1, h2, h3, h4, h5, h6 {\n  font-size: inherit;\n  font-weight: 400;\n}\n\n.switch-page button, .buttons-container .btn-race,\n.buttons-container .btn-reset, .pagination-wrapper button {\n  background: #c4ffab;\n  box-shadow: inset 0 -4px 3px #728b47;\n}\n\n.switch-page button:active, .buttons-container .btn-race:active,\n.buttons-container .btn-reset:active, .pagination-wrapper button:active {\n  box-shadow: inset 2px -7px 7px #728b47;\n  position: relative;\n  top: 1px;\n}\n\n.inputs-block .btn-create,\n.inputs-block .btn-update, .buttons-container .btn-generate, .cars-block .cars-container .car .car-name button {\n  background: #d9e5ff;\n  box-shadow: inset 0 -4px 3px #79a4ff;\n}\n\n.inputs-block .btn-create:active,\n.inputs-block .btn-update:active, .buttons-container .btn-generate:active, .cars-block .cars-container .car .car-name button:active {\n  box-shadow: inset 2px -7px 7px #79a4ff;\n  position: relative;\n  top: 1px;\n}\n\n.inputs-block .btn-update:disabled, .buttons-container .btn-race:disabled,\n.buttons-container .btn-reset:disabled, button:disabled, .pagination-wrapper button:disabled {\n  background: dimgrey;\n  color: #4f4f4f;\n  box-shadow: inset 0 -4px 3px #393939;\n  cursor: auto;\n}\n\nbody {\n  background: black;\n  color: white;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  padding: 1rem 1.5rem;\n}\n\ndiv {\n  display: flex;\n}\n\nh1 {\n  font-size: 3rem;\n  font-weight: bold;\n}\n\nh2 {\n  font-size: 2rem;\n  font-weight: bold;\n}\n\nbutton {\n  color: black;\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 0.4rem;\n  border-radius: 0.5rem;\n}\n\ninput {\n  border-radius: 0.5rem;\n}\n\n.switch-page {\n  gap: 0.5rem;\n  margin: 0.5rem 0;\n}\n\n.create-car,\n.update-car {\n  gap: 0.3rem;\n}\n\ninput[type="color"] {\n  height: auto;\n}\n\ninput[type="text"] {\n  padding: 0.5rem;\n}\n\n.inputs-block {\n  display: block;\n  margin: 3rem 0 6rem;\n}\n\n.inputs-block div {\n  margin: 1.5rem 0;\n}\n\n.inputs-block .btn-update:disabled {\n  position: static;\n}\n\n.buttons-container {\n  gap: 0.5rem;\n}\n\n.buttons-container .btn-race:disabled,\n.buttons-container .btn-reset:disabled {\n  position: static;\n}\n\n*:disabled {\n  background-color: dimgrey;\n}\n\n.cars-block {\n  flex-direction: column;\n  position: relative;\n}\n\n.cars-block h2 {\n  margin: 1rem 0;\n}\n\n.cars-block .cars-container {\n  flex-direction: column;\n}\n\n.cars-block .cars-container .car {\n  flex-direction: column;\n  margin: 1rem 0;\n}\n\n.cars-block .cars-container .car .car-name {\n  color: #ccaf0d;\n}\n\n.cars-block .cars-container .car .car-name button.selected {\n  background: #e80303;\n  color: white;\n  box-shadow: none;\n}\n\n.cars-block .cars-container .car .car-name .btn-remove {\n  margin: 0 1.5rem 0 0.5rem;\n}\n\n.cars-block .cars-container .car .car-race {\n  border-bottom: 3px dashed white;\n  align-items: flex-end;\n  justify-content: space-between;\n  padding-right: 10%;\n}\n\n.cars-block .cars-container .car .car-race img {\n  width: 34px;\n  height: 48px;\n}\n\n.cars-block .cars-container .car .car-race .car-track {\n  align-items: flex-end;\n  justify-content: space-between;\n  flex: 1;\n  margin-left: 8px;\n}\n\nbutton:disabled {\n  cursor: auto;\n}\n\n.pagination {\n  margin: 5rem 0;\n}\n\n.pagination button {\n  margin: 0 0.5rem 2rem 0;\n  padding: 0.4rem 2rem;\n}\n\n.winners-block {\n  margin: 4rem 0 6rem;\n  flex-direction: column;\n  min-height: 20rem;\n}\n\n.winners-block h2 {\n  margin: 1rem 0;\n}\n\ntable {\n  margin: 1rem 0;\n  border-spacing: 0;\n}\n\ntable thead {\n  height: 2rem;\n  background: #5252ff;\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n\ntable thead tr td {\n  padding-left: 1rem;\n}\n\ntable thead tr td.for-sort:hover {\n  background: #0a0ae3;\n  cursor: pointer;\n}\n\ntable thead tr td.for-sort:active {\n  color: #de2121;\n}\n\ntable tbody tr {\n  height: 3rem;\n}\n\ntable tbody tr td {\n  padding-left: 1.2rem;\n}\n\n.car-engine {\n  align-self: center;\n  gap: 5px;\n}\n\n.car-engine button {\n  font-size: 0.7rem;\n  padding: 0.5rem 0.2rem;\n  background: none;\n  border: 2px solid red;\n  color: red;\n  box-shadow: none;\n}\n\n.car-engine button:disabled {\n  border: 2px solid #646464;\n  color: #646464;\n}\n\n.modal {\n  background: red;\n  position: absolute;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: black;\n  /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.4);\n  /* Black w/ opacity */\n  justify-content: center;\n  align-items: center;\n}\n\n.modal-content {\n  position: relative;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 30px;\n  justify-content: center;\n  text-align: center;\n  margin: 0 auto;\n  padding: 20px;\n  border: 1px solid #888;\n  width: 80%;\n  border-radius: 5px;\n}\n\n.pagination-wrapper {\n  margin: 5rem 0;\n}\n\n.pagination-wrapper button {\n  margin: 0 0.5rem 2rem 0;\n  padding: 0.4rem 2rem;\n}\n\n.pagination-wrapper button:disabled {\n  position: static;\n}\n',""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&a[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},441:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(379),a=n.n(r),o=n(772);a()(o.Z,{insert:"head",singleton:!1});const i=o.Z.locals||{}},379:(e,t,n)=>{var r,a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function i(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],a=0;a<e.length;a++){var s=e[a],c=t.base?s[0]+t.base:s[0],d=n[c]||0,l="".concat(c," ").concat(d);n[c]=d+1;var u=i(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(o[u].references++,o[u].updater(h)):o.push({identifier:l,updater:m(h,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var d,l=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,a=n.media,o=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,g=0;function m(e,t){var n,r,a;if(t.singleton){var o=g++;n=p||(p=c(t)),r=u.bind(null,n,o,!1),a=u.bind(null,n,o,!0)}else n=c(t),r=h.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=i(n[r]);o[a].references--}for(var c=s(e,t),d=0;d<n.length;d++){var l=i(n[d]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=c}}}},717:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EngineAPI=t.DriveStatus=t.EngineStatus=void 0;const a=n(906),o=`${a.BASIC_URL}/engine`;var i,s;!function(e){e.started="started",e.stopped="stopped",e.drive="drive"}(i=t.EngineStatus||(t.EngineStatus={})),(s=t.DriveStatus||(t.DriveStatus={}))[s.success=200]="success",s[s.badRequest=400]="badRequest",s[s.wrongOrNotStartedCar=404]="wrongOrNotStartedCar",s[s.driveInProgress=429]="driveInProgress",s[s.stopped=500]="stopped",t.EngineAPI=class{static startStopEngine(e,t){return r(this,void 0,void 0,(function*(){const n=new URLSearchParams;n.set("id",String(e)),n.set("status",String(t));try{const e=(0,a.getURLWithQuery)(o,n),t=yield fetch(e,{method:a.HTTPMethod.PATCH});return t.ok?yield t.json():t.status}catch(e){throw e instanceof SyntaxError?console.log("There was a SyntaxError in JSON:",e):console.log("There was an error",e),e}}))}static drive(e,t){return r(this,void 0,void 0,(function*(){const n=new URLSearchParams;n.set("id",String(e)),n.set("status",i.drive);try{const e=(0,a.getURLWithQuery)(o,n);return(yield fetch(e,{method:a.HTTPMethod.PATCH,signal:t})).status}catch(e){return void(e instanceof SyntaxError?console.log("There was a SyntaxError in JSON:",e):e instanceof DOMException?console.log("Fetch request cancelled"):console.log("There was an error",e))}}))}}},774:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GarageAPI=void 0;const a=n(906),o=`${a.BASIC_URL}/garage`;t.GarageAPI=class{static getCars(e={}){return r(this,void 0,void 0,(function*(){const{page:t,limit:n}=e,r=new URLSearchParams;t&&r.set("_page",String(t)),n&&r.set("_limit",String(n));const i=(0,a.getURLWithQuery)(o,r),s=yield fetch(i);return yield s.json()}))}static getNumberOfCars(){return r(this,void 0,void 0,(function*(){const e=new URLSearchParams;e.set("_limit",String(1));const t=(0,a.getURLWithQuery)(o,e),n=yield fetch(t);return Number(n.headers.get("X-Total-Count"))}))}static getCar(e){return r(this,void 0,void 0,(function*(){const t=yield fetch(`${o}/${e}`);return yield t.json()}))}static createCar(e){return r(this,void 0,void 0,(function*(){const t=yield fetch(o,{method:a.HTTPMethod.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static deleteCar(e){return r(this,void 0,void 0,(function*(){yield fetch(`${o}/${e}`,{method:a.HTTPMethod.DELETE})}))}static updateCar(e,t){return r(this,void 0,void 0,(function*(){const n=yield fetch(`${o}/${e}`,{method:a.HTTPMethod.PUT,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield n.json()}))}}},968:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersAPI=t.WinnerRequestStatus=t.OrderResult=t.SortResult=void 0;const a=n(906),o=`${a.BASIC_URL}/winners`;var i,s,c;(c=t.SortResult||(t.SortResult={})).id="id",c.wins="wins",c.time="time",(s=t.OrderResult||(t.OrderResult={})).asc="ASC",s.desc="DESC",(i=t.WinnerRequestStatus||(t.WinnerRequestStatus={}))[i.ok=200]="ok",i[i.notFound=404]="notFound",i[i.duplicateID=500]="duplicateID",t.WinnersAPI=class{static getWinners(e){return r(this,void 0,void 0,(function*(){const{page:t,limit:n,sort:r,order:i}=e,s=new URLSearchParams;t&&s.set("_page",String(t)),n&&s.set("_limit",String(n)),r&&s.set("_sort",r),i&&s.set("_order",i);const c=(0,a.getURLWithQuery)(o,s),d=yield fetch(c);return yield d.json()}))}static getWinner(e){return r(this,void 0,void 0,(function*(){const t=yield fetch(`${o}/${e}`);return yield t.json()}))}static createWinner(e){return r(this,void 0,void 0,(function*(){const t=yield fetch(o,{method:a.HTTPMethod.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.ok?yield t.json():t.status}))}static deleteWinner(e){return r(this,void 0,void 0,(function*(){return(yield fetch(`${o}/${e}`,{method:a.HTTPMethod.DELETE})).status}))}static updateWinner(e,t){return r(this,void 0,void 0,(function*(){const n=yield fetch(`${o}/${e}`,{method:a.HTTPMethod.PUT,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return n.ok?yield n.json():n.status}))}static getNumberOfWinners(){return r(this,void 0,void 0,(function*(){const e=new URLSearchParams;e.set("_limit",String(1));const t=(0,a.getURLWithQuery)(o,e),n=yield fetch(t);return Number(n.headers.get("X-Total-Count"))}))}}},270:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=void 0;const r=n(579);class a extends r.Page{constructor(e){super(e)}render(){this.page.innerHTML="";const e=document.createElement("h1"),t=document.createElement("h2");e.innerText="404",t.innerText="Page Not Found",this.page.append(e,t)}}t.ErrorPage=a},459:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GaragePage=void 0;const a=n(579),o=n(207),i=n(272),s=n(774),c=n(228),d=n(717),l=n(906),u=n(968),h=n(766),p=n(347);class g extends a.Page{constructor(e){super(e),this.carAnimations={},this.cars=[],this.carsElements={},this.isRaceOn=!1,this.abortController=new AbortController,this.startedCarsCounter=0,this.carsPerPage=7,this.totalCars=0,this.currentCarId=0,this.winnerModal=new h.WinnerModal}render(){return r(this,void 0,void 0,(function*(){this.page.innerHTML="";const e=(0,o.createSwitchPageBlock)(),t=this.createInputsWrapper(),n=yield this.createCarsWrapper(),r=(0,p.createPaginationBlock)({nextHandler:()=>this.changePageHandler(1),prevHandler:()=>this.changePageHandler(-1)}),a=this.winnerModal.render();n.append(a),this.page.append(e,yield t,n,r),-1===l.Saved.selectedId&&(this.updateDisabledState(!0),this.editUpdateCarInputs("","#FFFBF3")),this.addCarsCounter(),this.saveEditInputsState(),this.totalCars=yield s.GarageAPI.getNumberOfCars(),this.togglePrevNextPageButtons()}))}addCarsCounter(){return r(this,void 0,void 0,(function*(){const e=document.querySelector("h1"),t=yield s.GarageAPI.getNumberOfCars();e&&(e.innerText=`Garage (${t})`)}))}get maxPage(){return Math.ceil(this.totalCars/this.carsPerPage)}changePageHandler(e){const t=document.querySelector(".cars-container");t&&(l.Saved.garagePageNumber+=e,this.createCars(t),this.togglePrevNextPageButtons()),this.editPaginationTitle()}togglePrevNextPageButtons(){const e=document.querySelector(`.${p.paginationClassesForElements.prevButton}`),t=document.querySelector(`.${p.paginationClassesForElements.nextButton}`);e&&t&&(e.disabled=!(l.Saved.garagePageNumber>1),t.disabled=l.Saved.garagePageNumber===this.maxPage)}editPaginationTitle(){document.querySelector("h2").innerText=`Page #${l.Saved.garagePageNumber}`}createInputsWrapper(){return r(this,void 0,void 0,(function*(){const e=(0,o.createBlock)("inputs-block"),t=this.createAddCarBlock(),n=this.createUpdateCarBlock(),a=(0,o.createBlock)("buttons-container"),i=this.createRaceButton(),c=this.createResetButton(),d=(0,o.createButton)("generate-cars","btn-generate");return d.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){for(let e=0;e<100;e++)yield s.GarageAPI.createCar({name:(0,o.createRandonName)(),color:(0,o.createRandomColor)()});this.render()})))),a.append(i,c,d),e.append(t,n,a),e}))}createResetButton(){const e=(0,o.createButton)("reset",c.classesForElements.resetButton);return e.disabled=!0,e.addEventListener("click",(()=>{this.toggleRaceStartStop(),this.stopRaceHandler(),this.winnerModal.hideModal(),this.abortController=new AbortController})),e}createRaceButton(){const e=(0,o.createButton)("race",c.classesForElements.raceButton);return e.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){this.toggleRaceStartStop(),yield this.startRaceHandler()})))),e}startRaceHandler(){return r(this,void 0,void 0,(function*(){const e=yield Promise.all(this.cars.map((e=>d.EngineAPI.startStopEngine(e.id,d.EngineStatus.started)))),t=[];e.forEach(((e,n)=>{if("object"==typeof e){const r=this.cars[n],a=this.carsElements[r.id],{velocity:o,distance:i}=e,s=i/o;this.moveToFlag(r.id,a,s);const c=new Promise((e=>{d.EngineAPI.drive(r.id,this.abortController.signal).then((t=>{t===d.DriveStatus.success?e({carId:r.id,raceDuration:s}):t===d.DriveStatus.stopped&&this.engineBroken(r.id)}))}));t.push(c)}})),Promise.race(t).then((e=>this.carWin(e)))}))}stopRaceHandler(){return r(this,void 0,void 0,(function*(){this.abortController.abort();const e=this.cars.map((e=>d.EngineAPI.startStopEngine(e.id,d.EngineStatus.stopped)));yield Promise.all(e),this.cars.forEach((e=>{this.stopCarAnimation(e.id)})),Object.values(this.carsElements).forEach((e=>{e.style.transform="translateX(0px)"}))}))}engineBroken(e){const t=this.cars.find((t=>t.id===e));t&&console.log(`Car ${null==t?void 0:t.name}: engine broken`),this.stopCarAnimation(e)}carWin(e){return r(this,void 0,void 0,(function*(){if(!1===this.isRaceOn)return;const{carId:t,raceDuration:n}=e,r=Math.round(n/1e3*100)/100,a=this.cars.find((e=>e.id===t));if(a){const e=`Winner is ${a.name}! Race time: ${r} sec.`;this.winnerModal.showModalWithText(e)}const o=yield u.WinnersAPI.getWinner(t);if("id"in o){const e=Math.min(o.time,r);yield u.WinnersAPI.updateWinner(t,{wins:o.wins+1,time:e})}else yield u.WinnersAPI.createWinner({id:t,wins:1,time:r})}))}toggleRaceResetButtons(){const e=document.querySelector(`.${c.classesForElements.raceButton}`),t=document.querySelector(`.${c.classesForElements.resetButton}`);e&&t&&(e.disabled=this.isRaceOn,t.disabled=!this.isRaceOn)}toggleStartButtons(){document.querySelectorAll(`.${c.classesForElements.startButton}`).forEach((e=>{e.disabled=this.isRaceOn}))}toggleRaceStartStop(){this.isRaceOn=!this.isRaceOn,this.toggleRaceResetButtons(),this.toggleStartButtons()}createUpdateCarBlock(){const e=(0,o.createBlock)("update-car"),t=(0,o.createInput)("text","text-update update");t.value=l.Saved.selectedName;const n=(0,o.createInput)("color","color-update update");n.value=l.Saved.selectedColor;const a=(0,o.createButton)("update","btn-update update");return a.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){-1!==l.Saved.selectedId&&(this.currentCarId=l.Saved.selectedId),yield s.GarageAPI.updateCar(this.currentCarId,{name:t.value,color:n.value}),this.editUpdateCarInputs("","#FFFBF3",-1),this.render()})))),e.append(t,n,a),e}createAddCarBlock(){const e=(0,o.createBlock)("create-car"),t=(0,o.createInput)("text");t.value=l.Saved.createdName;const n=(0,o.createInput)("color");n.value=l.Saved.createdColor;const a=(0,o.createButton)("create","btn-create");return a.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){yield s.GarageAPI.createCar({name:t.value,color:n.value}),l.Saved.createdName="",l.Saved.createdColor="#9424C8",this.render()})))),e.append(t,n,a),e}createCarsWrapper(){return r(this,void 0,void 0,(function*(){const e=(0,o.createBlock)(c.classesForElements.carsBlock),{title:t,page:n}=(0,o.createTitle)("Garage",l.Saved.garagePageNumber),r=(0,o.createBlock)("cars-container");return yield this.createCars(r),e.append(t,n,r),e}))}createCars(e){return r(this,void 0,void 0,(function*(){e.innerHTML="";const t=yield s.GarageAPI.getCars({limit:this.carsPerPage,page:l.Saved.garagePageNumber});this.cars=t,this.carsElements={};for(const n of t){const t=(0,o.createBlock)("car"),r=(0,o.createBlock)("car-name"),a=(0,o.createBlock)("car-track");r.innerText=`${n.name}`;const s=this.createSelectCarButton(n);l.Saved.selectedId===n.id&&s.classList.add("selected");const c=this.createRemoveCarButton(n);r.prepend(s,c);const d=(0,o.createBlock)("car-race"),u=(0,o.createBlock)("car-img");u.innerHTML=(0,o.createCarImg)(n.color);const h=document.createElement("img");h.src=i,h.alt="flag",h.classList.add("race-flag"),a.append(u,h);const p=this.createEngineBlock(n.id,u);d.append(p,a),t.append(r,d),e.append(t),this.carsElements[n.id]=u}this.addCarsCounter()}))}createRemoveCarButton(e){const t=(0,o.createButton)("remove","btn-remove");return t.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){(yield u.WinnersAPI.getWinner(e.id)).wins&&(yield u.WinnersAPI.deleteWinner(e.id)),yield s.GarageAPI.deleteCar(e.id),l.Saved.selectedId===e.id&&this.editUpdateCarInputs("","#FFFBF3",-1),this.render()})))),t}createSelectCarButton(e){const t=(0,o.createButton)("select","btn-select");return t.addEventListener("click",(()=>{this.currentCarId=e.id;for(const e of document.querySelectorAll(".btn-select"))e.classList.remove("selected");t.classList.add("selected"),this.updateDisabledState(),document.querySelector(".text-update").value=e.name,document.querySelector(".color-update").value=e.color,this.editUpdateCarInputs(e.name,e.color,e.id)})),t}createEngineBlock(e,t){const n=(0,o.createBlock)("car-engine"),r=this.createStartEngineButton(e,t),a=this.createStopEngineButton(e,t);return n.append(r,a),n}createStartEngineButton(e,t){const n=(0,o.createButton)("start",c.classesForElements.startButton);return n.addEventListener("click",(a=>r(this,void 0,void 0,(function*(){const r=(0,c.getClosestButtonInWrapper)(a.target,`.${c.classesForElements.stopButton}`);r&&(r.disabled=!1),n.disabled=!0,this.enableRaceButton(!1);const o=yield d.EngineAPI.startStopEngine(e,d.EngineStatus.started);if("object"==typeof o){const{velocity:n,distance:r}=o,a=r/n;this.moveToFlag(e,t,a),(yield d.EngineAPI.drive(e,this.abortController.signal))===d.DriveStatus.stopped&&this.engineBroken(e)}})))),n}createStopEngineButton(e,t){const n=t,a=(0,o.createButton)("stop",c.classesForElements.stopButton);return a.disabled=!0,a.addEventListener("click",(t=>r(this,void 0,void 0,(function*(){a.disabled=!0,yield d.EngineAPI.startStopEngine(e,d.EngineStatus.stopped),this.stopCarAnimation(e),n.style.transform="translateX(0px)";const r=(0,c.getClosestButtonInWrapper)(t.target,`.${c.classesForElements.startButton}`);r&&(r.disabled=!1),this.enableRaceButton(!0)})))),a}moveToFlag(e,t,n){const r=t,a=document.querySelector(".car-race");if(a){const o=a.getBoundingClientRect(),i=t.getBoundingClientRect(),s=o.right-i.right;let c,d,l=!1;const u=t=>{if(void 0===c&&(c=t),d!==t){const e=(t-c)/n,a=Math.min(s*e,s);r.style.transform=`translateX(${a}px)`,a===s&&(l=!0)}d=t,l||(this.carAnimations[e]=window.requestAnimationFrame(u))};this.carAnimations[e]=requestAnimationFrame(u)}}enableRaceButton(e){const t=document.querySelector(`.${c.classesForElements.raceButton}`);e?this.startedCarsCounter+=1:this.startedCarsCounter-=1,t&&(t.disabled=!(0===this.startedCarsCounter))}stopCarAnimation(e){cancelAnimationFrame(this.carAnimations[e])}updateDisabledState(e){const t=document.getElementsByClassName("update");for(const n of t)!0===e?n.setAttribute("disabled",""):n.removeAttribute("disabled")}saveEditInputsState(){const e=document.querySelectorAll("input");for(const t of e)t.addEventListener("input",(()=>{t.classList.contains("update")?"text"===t.type?l.Saved.selectedName=t.value:l.Saved.selectedColor=t.value:"text"===t.type?l.Saved.createdName=t.value:l.Saved.createdColor=t.value}))}editUpdateCarInputs(e,t,n){l.Saved.selectedName=e,l.Saved.selectedColor=t,n&&(l.Saved.selectedId=n)}}t.GaragePage=g},347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPaginationBlock=t.paginationClassesForElements=void 0;const r=n(207);t.paginationClassesForElements={buttonsWrapper:"pagination-wrapper",prevButton:"pagination-prev",nextButton:"pagination-next"},t.createPaginationBlock=e=>{const{nextHandler:n,prevHandler:a}=e,o=(0,r.createBlock)(t.paginationClassesForElements.buttonsWrapper),i=(0,r.createButton)("prev",t.paginationClassesForElements.prevButton);i.addEventListener("click",a);const s=(0,r.createButton)("next",t.paginationClassesForElements.nextButton);return s.addEventListener("click",n),o.append(i,s),o}},766:function(e,t,n){var r,a,o=this&&this.__classPrivateFieldSet||function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.WinnerModal=void 0;const s=n(207);t.WinnerModal=class{constructor(){r.set(this,void 0),a.set(this,void 0)}render(){const e=(0,s.createBlock)("modal"),t=(0,s.createBlock)("modal-content"),n=document.createElement("p");return n.classList.add("modal__inscription"),o(this,a,n,"f"),e.append(t),t.append(n),e.style.display="none",o(this,r,e,"f"),e}showModalWithText(e){i(this,r,"f")&&(i(this,a,"f")&&(i(this,a,"f").textContent=e),i(this,r,"f").style.display="flex")}hideModal(){i(this,r,"f")&&(i(this,r,"f").style.display="none")}},r=new WeakMap,a=new WeakMap},694:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersPage=void 0;const a=n(579),o=n(207),i=n(968),s=n(774),c=n(347),d=n(906),l="Number",u="Wins",h="Best time (seconds)";class p extends a.Page{constructor(e){super(e),this.totalWinners=0,this.winnersPerPage=10}render(){return r(this,void 0,void 0,(function*(){this.page.innerHTML="";const e=(0,o.createSwitchPageBlock)(),t=this.createWinnersBlock(),n=(0,c.createPaginationBlock)({nextHandler:()=>this.changePageHandler(1),prevHandler:()=>this.changePageHandler(-1)});this.page.append(e,yield t,n),this.totalWinners=yield i.WinnersAPI.getNumberOfWinners(),this.togglePrevNextPageButtons()}))}changePageHandler(e){document.querySelector(".winners-block")&&(d.Saved.winnersPageNumber+=e,this.editPaginationTitle(),this.togglePrevNextPageButtons(),this.render())}get maxPage(){return Math.ceil(this.totalWinners/this.winnersPerPage)}togglePrevNextPageButtons(){const e=document.querySelector(`.${c.paginationClassesForElements.prevButton}`),t=document.querySelector(`.${c.paginationClassesForElements.nextButton}`);e&&t&&(e.disabled=!(d.Saved.winnersPageNumber>1),t.disabled=d.Saved.winnersPageNumber===this.maxPage)}editPaginationTitle(){const e=document.querySelector("h2");e&&(e.innerText=`Page #${d.Saved.winnersPageNumber}`)}createWinnersBlock(){return r(this,void 0,void 0,(function*(){const e=(0,o.createBlock)("winners-block"),{title:t,page:n}=(0,o.createTitle)("Winners",d.Saved.winnersPageNumber),r=document.createElement("table"),a=this.createTableTitle(),i=document.createElement("tbody");return yield this.createWinners(i),r.append(a,i),e.append(t,n,r),e}))}createTableTitle(){const e=document.createElement("thead"),t=document.createElement("tr"),n=(0,o.createTableData)(l,(e=>this.sortWinners(e)),d.Saved.currentSort===i.SortResult.id?d.Saved.currentOrder:void 0),r=(0,o.createTableData)("Car"),a=(0,o.createTableData)("Name"),s=(0,o.createTableData)(u,(e=>this.sortWinners(e)),d.Saved.currentSort===i.SortResult.wins?d.Saved.currentOrder:void 0),c=(0,o.createTableData)(h,(e=>this.sortWinners(e)),d.Saved.currentSort===i.SortResult.time?d.Saved.currentOrder:void 0);return t.append(n,r,a,s,c),e.append(t),e}sortWinners(e){switch(e){case l:d.Saved.currentSort=i.SortResult.id;break;case u:d.Saved.currentSort=i.SortResult.wins;break;case h:d.Saved.currentSort=i.SortResult.time}d.Saved.currentOrder=d.Saved.currentOrder===i.OrderResult.asc?i.OrderResult.desc:i.OrderResult.asc,this.render()}createWinners(e){return r(this,void 0,void 0,(function*(){e.innerHTML="";let t=0;const n=yield i.WinnersAPI.getWinners({limit:this.winnersPerPage,page:d.Saved.winnersPageNumber,sort:d.Saved.currentSort,order:d.Saved.currentOrder});for(const r of n){const n=document.createElement("tr"),a=(0,o.createTableData)(""+ ++t),i=yield s.GarageAPI.getCar(r.id),c=(0,o.createTableData)("");c.innerHTML=(0,o.createCarImg)(i.color);const d=(0,o.createTableData)(`${i.name}`),l=(0,o.createTableData)(`${r.wins}`),u=(0,o.createTableData)(`${r.time}`);n.append(a,c,d,l,u),e.append(n)}return e}))}}t.WinnersPage=p},579:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0,t.Page=class{constructor(e){this.page=document.body,this.page.id=e}render(){this.page.innerHTML=""}}},906:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Saved=t.getURLWithQuery=t.HTTPMethod=t.BASIC_URL=void 0,t.BASIC_URL="http://127.0.0.1:3000",(n=t.HTTPMethod||(t.HTTPMethod={})).GET="GET",n.POST="POST",n.DELETE="DELETE",n.PUT="PUT",n.PATCH="PATCH",t.getURLWithQuery=(e,t)=>{const n=t.toString();return 0===n.length?e:`${e}?${n}`},t.Saved={selectedId:-1,selectedName:"",selectedColor:"#FFFBF3",createdName:"",createdColor:"#9424C8",garagePageNumber:1,winnersPageNumber:1}},207:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRandomColor=t.createRandonName=t.createTableData=t.createTitle=t.createCarImg=t.createInput=t.createSwitchPageBlock=t.createBlock=t.createButton=void 0;const r=n(968);function a(e,t){const n=document.createElement("button");return n.innerText=e,t&&(n.className=t),n}function o(e){const t=document.createElement("div");return t.className=e,t}t.createButton=a,t.createBlock=o,t.createSwitchPageBlock=function(){const e=o("switch-page"),t=a("to garage");t.addEventListener("click",(()=>{window.location.hash?window.location.href=window.location.href.replace(window.location.hash.slice(1),"garage"):window.location.href+="#garage"}));const n=a("to winners");return n.addEventListener("click",(()=>{window.location.hash?window.location.href=window.location.href.replace(window.location.hash.slice(1),"winners"):window.location.href+="#winners"})),e.append(t,n),e},t.createInput=function(e,t){const n=document.createElement("input");return n.type=e,t&&(n.className=t),n.addEventListener("change",(e=>{n.value=e.target.value})),n},t.createCarImg=function(e){return`<?xml version="1.0" standalone="no"?>\n    <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n     "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n     width="64px" height="32px" viewBox="0 0 1280.000000 640.000000"\n     preserveAspectRatio="xMidYMid meet">\n    <metadata>\n    Created by potrace 1.15, written by Peter Selinger 2001-2017\n    </metadata>\n    <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\n    fill="${e}" stroke="none">\n    <path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n    -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n    -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n    -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n    -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n    0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n    -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n    756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n    140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\n    l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n    259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n    -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n    -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n    525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n    680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n    -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n    -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n    10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n    -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n    -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n    54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n    -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n    274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n    -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n    <path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n    -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n    -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n    86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n    -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n    1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n    0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n    <path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n    -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n    <path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n    22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n    <path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n    165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n    <path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n    165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n    <path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n    58 -13 0 -29 -8 -34 -18z"/>\n    <path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n    9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n    <path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n    -54 -2z"/>\n    <path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n    -62 36z"/>\n    <path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n    113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n    <path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n    195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n    <path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n    -70 0z"/>\n    <path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n    0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n    <path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n    232 -230 231 -3 0 -11 -3 -17 -6z"/>\n    <path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n    -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n    380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n    -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n    33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n    238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n    81 364 77 109 -3 143 -7 210 -30z"/>\n    <path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n    119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n    <path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n    -163 84 -207 91 l-43 7 0 -162z"/>\n    <path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n    165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n    <path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n    -88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n    <path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n    -10 68 -14 2 -31 -3 -38 -10z"/>\n    <path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n    -44 -6 -64 -31z"/>\n    <path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n    -54 2z"/>\n    <path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n    -24 13 -3 0 -14 -6 -24 -13z"/>\n    <path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n    109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n    <path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n    79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n    <path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n    -67 12z"/>\n    <path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n    10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n    -113z"/>\n    <path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n    61 239 98 16 10 -216 242 -234 235z"/>\n    </g>\n    </svg>\n    `},t.createTitle=function(e,t){const n=document.createElement("h1");n.innerText=e;const r=document.createElement("h2");return r.innerText=`Page #${t}`,{title:n,page:r}},t.createTableData=function(e,t,n){const a=document.createElement("td");return a.innerText=e,n&&(n===r.OrderResult.asc&&(a.innerText+=" ↑"),n===r.OrderResult.desc&&(a.innerText+=" ↓")),t&&(a.className="for-sort",a.addEventListener("click",(e=>{const n=e.target;t(n.innerText)}))),a},t.createRandonName=function(){return`${["Renault","Volkswagen","BMW","Nissan","Bentley","Honda","Ford","Audi","Tesla","Toyota"][Math.floor(10*Math.random())]} ${["Logan","Passat","X3","Versa","Arnage","Odyssey","Transit","RS","Model X","Corolla"][Math.floor(10*Math.random())]}`},t.createRandomColor=function(){let e="#",t=0;for(;t<6;)t++,e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},228:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.classesForElements=t.getClosestButtonInWrapper=void 0,t.getClosestButtonInWrapper=(e,t)=>{let n=null;const r=e.closest("div");return r&&(n=r.querySelector(t)),n},t.classesForElements={startButton:"btn-start",stopButton:"btn-stop",raceButton:"btn-race",resetButton:"btn-reset",carsBlock:"cars-block",modal:"modal"}},272:(e,t,n)=>{e.exports=n.p+"assets/flag.png"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0,(()=>{const e=n(459),t=n(694),r=n(270);n(441);class a{enableRouteChange(){const e=()=>{const e=window.location.hash.slice(1);a.renderNewPage(e)};window.addEventListener("hashchange",(()=>{e()})),window.addEventListener("load",(()=>{e()}))}static renderNewPage(n){let a=null;a="garage"===n||0===n.length?new e.GaragePage(n):"winners"===n?new t.WinnersPage(n):new r.ErrorPage(n),a&&a.render()}run(){this.enableRouteChange()}}(new a).run(),console.log("Перед проверкой задания запустите сервер:\nhttps://github.com/mikhama/async-race-api")})()})();